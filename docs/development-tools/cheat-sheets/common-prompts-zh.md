# 常见AI提示速查表

用于频繁开发任务的快速复制提示模板。自定义[括号]中的占位符。

## 功能实施

### 基本功能提示
```
创建一个[功能名称]，它[功能描述]。

要求：
- [要求1]
- [要求2]
- [要求3]

技术细节：
- 使用[技术/框架]
- 遵循[模式/架构]
- 包括[特定实施细节]

请提供：
1. 组件代码
2. 任何所需的类型/接口
3. 使用示例
4. 方法简要说明
```

**示例：**
```
创建一个通过Cloudflare Email Worker发送电子邮件的联系表单组件。

要求：
- 姓名、电子邮件、消息字段
- 客户端验证
- 速率限制（每IP每分钟1次提交）
- 成功/错误反馈

技术细节：
- 使用Astro组件
- 遵循可访问性最佳实践
- 包括适当的错误处理

请提供：
1. 组件代码
2. TypeScript类型
3. 使用示例
4. 方法简要说明
```

### 用户身份验证功能
```
为[应用程序类型]实施用户身份验证。

所需功能：
- 用户注册（电子邮件 + 密码）
- 登录/登出
- 密码哈希（bcrypt）
- 会话管理
- 受保护的路由

技术栈：
- [框架：Astro/Next等]
- [数据库：D1/PostgreSQL等]
- [会话存储：KV/cookies等]

安全要求：
- 安全密码哈希
- CSRF保护
- 登录尝试的速率限制
- 安全会话管理

请提供：
1. 身份验证逻辑
2. 数据库架构
3. 受保护路由示例
4. 遵循的安全最佳实践
```

### CRUD操作
```
为[实体名称]创建CRUD操作。

实体字段：
- [字段1]：[类型]
- [字段2]：[类型]
- [字段3]：[类型]

所需操作：
- 创建[实体]
- 读取/列出[实体]
- 更新[实体]
- 删除[实体]

技术栈：
- 数据库：[D1/PostgreSQL等]
- API：[REST/GraphQL]
- 框架：[Astro/Express等]

请包括：
1. 数据库架构/迁移
2. API端点
3. 验证逻辑
4. 错误处理
5. 使用示例

### API集成
```
将[API名称]API集成到[应用程序]中。

我需要：
- 从API获取[数据类型]
- 处理身份验证（[认证类型]）
- 缓存响应（[缓存策略]）
- 优雅处理错误

API详细信息：
- 端点：[URL]
- 认证方法：[API密钥/OAuth等]
- 速率限制：[限制详情]

请提供：
1. API客户端代码
2. 响应的类型定义
3. 错误处理
4. 缓存实现
5. 使用示例
```

## 调试

### 调试特定错误
```
我遇到这个错误：

[粘贴确切的错误消息]

上下文：
- 代码：[粘贴相关代码]
- 我在做什么：[描述]
- 我期望的：[预期行为]
- 实际发生：[实际行为]

环境：
- 框架：[Astro/Next等]
- 浏览器：[如果相关]
- Node版本：[如果相关]

请：
1. 解释错误的原因
2. 提供修复方案
3. 解释修复为何有效
```

### 调试性能问题
```
我的[页面/组件/函数]运行缓慢。

性能指标：
- 当前：[指标和值]
- 目标：[期望指标]

代码：
[粘贴相关代码]

我已经尝试：
- [尝试1]
- [尝试2]

请：
1. 识别性能瓶颈
2. 建议优化方案
3. 显示优化后的代码
4. 解释性能改进
```

### 调试意外行为
```
我的[功能]没有按预期工作。

预期行为：
[描述应该发生什么]

实际行为：
[描述正在发生什么]

代码：
[粘贴相关代码]

重现步骤：
1. [步骤1]
2. [步骤2]
3. [步骤3]

请：
1. 识别问题
2. 解释为什么会发生
3. 提供修复方案
4. 建议防止回归的测试
```

### 调试控制台错误
```
我在控制台中看到这个错误：

[粘贴控制台错误]

浏览器控制台显示：
[如果可用，粘贴堆栈跟踪]

发生时我在做什么：
[描述]

相关代码：
[粘贴代码]

请帮助我：
1. 理解导致此问题的原因
2. 修复错误
3. 防止类似错误
```

## 重构

### 代码清理
```
重构此代码以改进[质量方面]：

[粘贴代码]

目标：
- 提高可读性
- 降低复杂性
- 遵循最佳实践
- 保持相同功能

请提供：
1. 重构后的代码
2. 变更说明
3. 为什么新版本更好
```

### 提取可重用组件
```
此代码在多个地方出现：

[粘贴重复代码]

请：
1. 提取可重用的组件/函数
2. 显示如何在两个位置使用它
3. 包括适当的TypeScript类型
4. 建议一个好名称
```

### 性能优化
```
优化此代码的性能：

[粘贴代码]

当前问题：
- [问题1：例如，"渲染过于频繁"]
- [问题2：例如，"包大小过大"]
- [问题3：例如，"在移动设备上缓慢"]

请提供：
1. 优化后的代码
2. 优化说明
3. 性能比较
4. 权衡（如果有的话）
```

### 现代化旧代码
```
使用当前最佳实践现代化此代码：

[粘贴旧代码]

当前问题：
- [问题1：例如，"使用var而不是const/let"]
- [问题2：例如，"使用回调而不是async/await"]
- [问题3：例如，"使用旧API"]
- [问题4：例如，"缺乏错误处理"]

目标：
- 使用现代JavaScript/TypeScript
- 遵循当前最佳实践
- 保持向后兼容性[如果需要]

请提供：
1. 现代化后的代码
2. 变更说明
3. 迁移说明
```

## 测试

### 编写单元测试
```
为此代码编写单元测试：

[粘贴要测试的代码]

测试框架：[Jest/Vitest等]

请测试：
- 正常路径（预期输入）
- 边界情况
- 错误条件
- 边界条件

请提供：
1. 完整测试文件
2. 测试描述
3. 任何需要的测试工具/帮助程序
4. 覆盖率报告解释
```

### 编写集成测试
```
为此功能编写集成测试：

[功能描述]

涉及的组件：
- [组件1]
- [组件2]
- [组件3]

测试框架：[Playwright/Cypress等]

请测试：
- 用户工作流程
- 错误场景
- 边界情况
- 可访问性

请提供：
1. 测试文件
2. 测试设置说明
3. 任何需要的固定装置/模拟
```

### 测试调试
```
此测试失败：

[粘贴测试代码]

错误：
[粘贴错误消息]

正在测试的代码：
[粘贴相关代码]

请：
1. 识别测试失败的原因
2. 修复测试（或修复代码，如果那是问题）
3. 解释修复
```

## 文档

### 编写文档
```
为此代码编写文档：

[粘贴代码]

受众：[开发人员/最终用户/团队成员]

请包括：
- 它做什么的概述
- 如何使用
- 参数/属性解释
- 返回值
- 示例
- 常见陷阱
- 相关函数/组件
```

### API文档
```
记录此API端点：

[粘贴端点代码]

请创建：
- 端点描述
- HTTP方法
- URL路径
- 请求参数
- 请求体（如果适用）
- 响应格式
- 状态码
- 错误响应
- 请求示例
- 响应示例
```

### README模板
```
为此项目创建README.md：

项目名称：[名称]
描述：[简短描述]
技术栈：[使用的技术]

请包括：
- 项目概述
- 功能
- 先决条件
- 安装说明
- 使用示例
- 配置
- 部署
- 贡献指南
- 许可证
```

## 代码审查

### 审查我的代码
```
请审查此代码：

[粘贴代码]

关注点：
- 代码质量
- 最佳实践
- 潜在错误
- 性能
- 安全性
- 可访问性（如果是UI）

请提供：
1. 发现的具体问题
2. 严重性（严重/主要/次要）
3. 建议的修复
4. 一般反馈
```

### 安全审查
```
审查此代码的安全漏洞：

[粘贴代码]

上下文：
- 目的：[它做什么]
- 用户输入：[用户可以输入什么]
- 数据处理：[数据如何处理]

请检查：
- SQL注入
- XSS漏洞
- CSRF问题
- 身份验证/授权问题
- 数据泄露
- 输入验证
- 敏感数据处理

提供：
1. 发现的漏洞
2. 严重级别
3. 利用场景
4. 修复方案
```

### 可访问性审查
```
审查此组件的可访问性：

[粘贴组件代码]

请检查：
- WCAG 2.1 A级合规性
- 键盘导航
- 屏幕阅读器支持
- 颜色对比
- ARIA属性
- 焦点管理
- 表单可访问性

提供：
1. 发现的问题
2. 违反的WCAG准则
3. 具体修复
4. 测试建议
```

## 通用

### 解释代码
```
解释此代码如何工作：

[粘贴代码]

请解释：
- 它做什么（高层级）
- 它如何工作（逐步）
- 为什么这样写
- 任何陷阱或边界情况
- 如何修改（如果需要）

受众级别：[初学者/中级/高级]
```

### 最佳实践
```
[主题]的最佳实践是什么？

上下文：
- 技术栈：[技术]
- 用例：[描述]
- 团队规模：[如果相关]

请涵盖：
- 行业标准
- 避免的常见陷阱
- 工具和资源
- 代码示例
- 何时偏离最佳实践
```

### 架构决策
```
帮我决定[选项A]和[选项B]哪个更适合[用例]。

要求：
- [要求1]
- [要求2]
- [要求3]

约束：
- [约束1：例如，"预算：$0-20/月"]
- [约束2：例如，"团队规模：2"]
- [约束3：例如，"时间线：2周"]

请提供：
1. 两个选项的比较
2. 每个的优缺点
3. 带有理由的建议
4. 实施考虑
```

### 迁移策略
```
帮我从[旧技术]迁移到[新技术]。

当前设置：
- [当前架构]
- [当前技术栈]
- [当前数据]

目标：
- [新架构]
- [新技术栈]
- [要求]

约束：
- 零停机时间要求：[是/否]
- 数据迁移需要：[是/否]
- 时间线：[持续时间]

请提供：
1. 分步迁移计划
2. 风险和缓解措施
3. 测试策略
4. 回滚计划
5. 时间线估算
```

## Astro特定

### 创建Astro组件
```
为[目的]创建一个Astro组件。

属性：
- [属性1]：[类型] - [描述]
- [属性2]：[类型] - [描述]

功能：
- [功能1]
- [功能2]
- 响应式设计
- 可访问（WCAG 2.1 AA）

请提供：
1. 组件代码（.astro文件）
2. 属性的TypeScript接口
3. CSS/Tailwind样式
4. 使用示例
```

### Astro API路由
```
为[目的]创建一个Astro API路由。

端点：/api/[路由]
方法：[GET/POST等]

请求：
- [请求详情]

响应：
- [响应格式]

所需功能：
- 验证
- 错误处理
- 速率限制（如果需要）
- 身份验证（如果需要）

请提供：
1. API路由代码
2. TypeScript类型
3. 错误响应
4. 使用示例
```

### Astro与D1
```
创建一个使用D1数据库的Astro页面。

页面目的：[描述]

数据库操作：
- [操作1：例如，"获取所有帖子"]
- [操作2：例如，"按类别过滤"]

请提供：
1. Astro页面组件
2. D1查询代码
3. 类型定义
4. 错误处理
5. 示例输出
```

## 提示增强技巧

### 使提示更有效

**具体化：**
```
❌ "创建一个表单"
✅ "创建一个联系表单，包含姓名、电子邮件、消息字段、客户端验证和可访问的错误消息"
```

**提供上下文：**
```
❌ "修复这个错误"
✅ "修复我的Astro网站联系表单中的这个错误。在未填写必填字段时提交时发生错误。期望：显示错误消息。实际：表单仍然提交。"
```

**包含技术细节：**
```
❌ "添加身份验证"
✅ "使用Astro服务器端点添加电子邮件/密码身份验证，D1数据库用于用户存储，bcrypt用于密码哈希，httpOnly cookies用于会话"
```

**指定输出格式：**
```
❌ "帮我处理这个"
✅ "请提供：1）完整的修复代码，2）解释哪里错了，3）为什么您的修复有效，4）如何防止未来出现此问题"
```

**分解复杂请求：**
```
❌ "构建一个完整的用户仪表板，包含身份验证、个人资料和设置"
✅ 分解为步骤：
  1. "创建用户身份验证系统"
  2. "创建用户个人资料页面"
  3. "创建设置页面"
  4. "集成所有三个组件"
```

## 保存您自己的提示

在您的项目中创建一个提示文件：

```markdown
# 我的项目提示

## 添加新功能
为[项目区域]创建一个[类型]功能。
要求：
- 使用D1数据库
- 遵循现有代码模式在src/[目录]
- 包括TypeScript类型
- 有错误处理

## 调试性能
这个[组件/函数]很慢：
[代码]
预期：[指标]
实际：[指标]
请优化。

## 审查代码
审查此代码：
- 项目特定模式
- 我们团队的风格指南
- Cloudflare特定优化
[代码]
```

---

**记住：** 好的提示是：
- 具体的（您需要的精确内容）
- 有上下文的（相关背景）
- 完整的（所有必要信息）
- 清晰的（易于理解）
- 可操作的（AI可以执行）