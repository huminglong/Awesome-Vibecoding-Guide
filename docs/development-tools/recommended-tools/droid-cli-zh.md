# Droid CLI — 规范驱动开发代理 🤖

> **开始使用Droid CLI：** [在此处使用我的推荐链接注册](https://app.factory.ai/r/VAH64803)以支持本指南并获得访问此强大编码助手的权限。

## 何时选择Droid而不是Claude Code

虽然[Claude Code CLI](./claude-code-cli-zh.md)是我大多数任务的主要日常驱动，但**Droid CLI在您需要结构化、规范驱动的开发时表现出色**：

| 选择Droid当...             | 为什么                           |
| -------------------------- | -------------------------------- |
| 具有正式规范的大型项目     | 具有交互式编辑的完整规范驱动阶段 |
| 需要记录计划的团队协调     | 计划持久性和团队协作功能         |
| 具有合规要求的企业工作     | 权限系统防止未经授权的更改       |
| 需要代码审查工作流程的项目 | 内置`/review`命令，具有多种模式  |
| 复杂的多阶段实施           | 结构化阶段确保不会遗漏任何内容   |

**经验法则：** 如果您需要正式规范、阶段和结构化的团队工作流程，Droid是更好的选择。对于快速迭代和日常编码，坚持使用Claude Code。

## 为什么Droid CLI在结构化开发方面表现出色

Droid CLI不仅仅是另一个编码助手——它是一个综合开发环境，将智能规划与安全、受控的执行相结合。它以从根本上改变您处理大规模软件开发方式的功能而脱颖而出。

## 🎯 杀手功能：自主规范生成

### 计划模式的魔力

**传统工作流程：**
1. 手动编写详细规范
2. 分解为任务
3. 希望AI理解您的愿景

**Droid CLI工作流程：**
1. 用简单的英语描述您想要实现的内容
2. 将Droid设置为"计划模式"
3. 让它自动创建全面的、类似规范的计划
4. 审查并批准生成的计划
5. 观察代理完美地执行批准的计划

**示例：**
```
用户："我想构建一个具有用户身份验证、实时更新和移动响应式的任务管理应用程序"

Droid（计划模式）：创建详细的15步计划，包括：
- 数据库架构设计
- 身份验证流程
- API端点结构
- 前端组件架构
- 实时功能实施
- 测试策略
- 部署配置
```

### 计划持久性和可重用性

- **自动.md文件保存** - 每个批准的计划都保存为markdown文件
- **计划版本控制** - 跟踪开发计划的更改和迭代
- **模板创建** - 为类似项目重用成功的计划
- **团队协作** - 与团队成员共享计划以保持一致性

**专业提示：** 如果您更喜欢更简化的工作流程，可以禁用.md保存，但保持计划会随着时间的推移创建有价值的知识库。

## 🛡️ 革命性权限系统

### "不是完全Yolo"方法

与其他使用不受限制访问的编码代理不同，Droid引入了一个复杂的权限系统，可以在保持生产力的同时防止灾难。

**权限级别：**

**🟢 低权限模式 - 仅读写**
- 可以读取和修改文件
- 不能执行系统命令
- 不能安装依赖项
- 不能修改系统配置
- **非常适合：** 简单的代码更改、文件重构、内容更新

**🟡 中权限模式 - 仅可逆命令**
- 可以读/写文件
- 可以执行可逆命令（npm install、git操作）
- 不能执行破坏性系统更改
- 不能修改系统级配置
- **非常适合：** 功能开发、依赖管理、版本控制

**🔴 高权限模式 - 完全访问**
- 所有系统功能
- 谨慎使用以进行复杂的基础设施更改
- **非常适合：** 高级DevOps、系统配置（当绝对必要时）

### 现实世界安全好处

**防止令人遗憾的操作：**
- 没有意外的`rm -rf`灾难
- 没有系统配置损坏
- 没有不可逆的依赖冲突
- 没有AI"幻觉"损坏

**建立信任：**
- 从低权限开始，根据需要升级
- 审查每个权限提升
- 保持对代理可以做什么的控制
- 生产环境的安心

## 🔄 工作流程集成卓越

### 在大多数用例中替代OpenSpec

**当Droid CLI单独足够时：**
- 大多数功能开发
- 标准Web应用程序
- API开发
- 前端实施
- 常规维护任务

**何时补充OpenSpec：**
- 极其复杂的企业系统
- 多团队项目协调
- 需要大量文档的项目
- 面向客户的规范要求

### 无缝开发工作流程

**日常开发周期：**

1. **早晨规划会话**
   ```
   "我想为管理仪表板实现基于用户角色的访问控制"
   → Droid生成综合计划
   → 审查并批准
   → 计划保存为rbac-implementation.md
   ```

2. **开发执行**
   ```
   Droid逐步遵循批准的计划
   → 实时进度更新
   → 自动错误处理
   → 质量检查点
   ```

3. **与DevTools MCP集成**
   ```
   "测试我们刚刚实现的基于角色的权限"
   → Droid与DevTools MCP协调
   → 所有用户角色的自动化测试
   → 错误修复和完善
   ```

## 🚀 高级功能

### 模型路由智能

Droid CLI智能地将不同类型的任务路由到最合适的AI模型：

- **GPT-4/Claude**用于一般编码任务
- **Codex**用于复杂算法实施
- **GPT-5-high**用于大规模架构决策
- **专用模型**用于特定框架/语言

### 上下文管理

- **持久项目上下文** - 维护对您的代码库的理解
- **跨会话记忆** - 记住以前的工作和决策
- **增量学习** - 更好地理解您的编码风格
- **依赖跟踪** - 了解更改如何影响其他部分

### 错误恢复

- **自动重试机制** - 优雅地处理临时故障
- **回滚能力** - 恢复有问题的更改
- **替代方法建议** - 当初始尝试失败时
- **从失败中学习** - 改进未来的建议

## 💡 最大生产力的专业提示

### 1. 从保守开始
从低权限模式开始，仅在必要时升级。您会对可以安全完成多少事情感到惊讶。

### 2. 先规划，后执行
对新功能始终使用计划模式。AI生成的计划质量通常比手动规范编写更好。

### 3. 利用计划持久性
将生成的.md文件保留为文档。它们成为有价值的项目工件和入职材料。

### 4. 与DevTools MCP结合
当Droid处理实施时，使用DevTools MCP进行测试。这种组合非常强大。

### 5. 迭代计划
不要接受第一个生成的计划。要求修改，添加您的约束，并在执行前完善它。

## 🎯 底线

Droid CLI在结构化、规范驱动的开发方面表现出色，其中正式规划和团队协调很重要。它成为一个开发伙伴，它：

- **在行动之前思考**（具有阶段的规划模式）
- **尊重您的边界**（权限系统）
- **从您的项目中学习**（上下文管理）
- **精确执行**（代理协调）
- **启用代码审查**（内置`/review`命令）

**何时使用Droid**：大型项目、团队协调、企业要求、正式规范、代码审查工作流程。

**何时改用Claude Code**：快速迭代、单文件更改、日常编码、探索代码库。参见[Claude Code CLI](./claude-code-cli-zh.md)以了解主要日常驱动。

另见：[Claude Code CLI](./claude-code-cli-zh.md)、[DevTools MCP](../mcp-servers/devtools-mcp-zh.md)

返回：[工具和技术栈](../README-zh.md)